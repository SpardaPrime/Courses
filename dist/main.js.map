{"version":3,"file":"main.js","sources":["webpack://node-express/./src/app/app.js","webpack://node-express/./src/carousel/carousel.js","webpack://node-express/./src/carousel/slider.js","webpack://node-express/./src/index.js","webpack://node-express/webpack/bootstrap","webpack://node-express/webpack/runtime/define property getters","webpack://node-express/webpack/runtime/hasOwnProperty shorthand","webpack://node-express/webpack/runtime/make namespace object","webpack://node-express/webpack/startup"],"sourcesContent":["export default function () {\r\n  const cartBadget = async () => {\r\n    const elem = document.getElementById(\"cart-block\");\r\n    const data = await fetch(\"/cart/getcount\");\r\n    const count = await data.json();\r\n    console.log(elem);\r\n    if (!count) {\r\n      return;\r\n    }\r\n    if (document.getElementById(\"cart\")) {\r\n      return;\r\n    }\r\n    elem.style.display = \"block\";\r\n    document.getElementById(\"cart-block-text\").textContent = count;\r\n  };\r\n  const searchPanel = () => {\r\n    try {\r\n      const elem = document.querySelector(\".search-item-panel\");\r\n      elem.querySelector(\"form\").addEventListener(\"submit\", (e) => {\r\n        const inputValue = elem.querySelector(\"input\").value;\r\n        if (inputValue) return;\r\n        e.preventDefault();\r\n      });\r\n    } catch (e) {}\r\n  };\r\n  searchPanel();\r\n\r\n  const intl = (vs) => {\r\n    document.querySelectorAll(vs).forEach((node) => {\r\n      node.textContent = new Intl.NumberFormat(\"ukl\", {\r\n        currency: \"uah\",\r\n        style: \"currency\",\r\n      }).format(node.textContent);\r\n    });\r\n  };\r\n  const dateParser = () => {\r\n    document.querySelectorAll(\".order-date\").forEach((item) => {\r\n      let data = new Date(item.textContent);\r\n      let options = {\r\n        year: \"2-digit\",\r\n        month: \"2-digit\",\r\n        day: \"2-digit\",\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        second: \"2-digit\",\r\n      };\r\n      item.textContent = new Intl.DateTimeFormat(\"ukl\", options).format(data);\r\n    });\r\n  };\r\n  dateParser();\r\n  intl(\".price\");\r\n  intl(\".span-total\");\r\n  intl(\".p-span-price\");\r\n  const update = ({ cart }, scrc) => {\r\n    let total = 0;\r\n    const html = cart.items\r\n      .map(({ courseId, count }) => {\r\n        console.log(courseId);\r\n        const { title, price, img, _id } = courseId;\r\n        total += count * price;\r\n        return `\r\n              <li class=\"collection-item cart\">\r\n              <div><h5>${title}</h5></div>\r\n              <div><h5 class=\"price\">${price}</h5></div>\r\n              <div><h5>${count}</h5></div>\r\n              <div><img class=\"cart-img\" src=\"${img}\" alt=\"${title}\"></div>\r\n              <div>\r\n              <button class=\"add\" data-id=\"${_id}\" data-csrf=\"${scrc}\"><i class=\"material-icons\">add</i></button>\r\n              <button class=\"del\" data-id=\"${_id}\"  data-csrf=\"${scrc}\"><i class=\"material-icons\">remove</i></button>\r\n              </div>\r\n              </li>\r\n              `;\r\n      })\r\n      .join(\"\");\r\n    $cart.querySelector(\".main\").innerHTML = html;\r\n\r\n    $cart.querySelector(\".total\").textContent = total;\r\n    intl(\".price\");\r\n    intl(\".span-total\");\r\n    intl(\".p-span-price\");\r\n    if (document.getElementById(\"nav-cart\")) {\r\n      cartBadget();\r\n    }\r\n  };\r\n\r\n  const $cart = document.querySelector(\"#cart\");\r\n  if ($cart) {\r\n    $cart.addEventListener(\"click\", (e) => {\r\n      let targ = e.target.closest(\"button.del\");\r\n      if (!targ) return;\r\n      let id = targ.dataset.id;\r\n      const csrf = targ.dataset.csrf;\r\n\r\n      fetch(\"/cart/remove/\" + id, {\r\n        method: \"delete\",\r\n        headers: {\r\n          \"X-XSRF-TOKEN\": csrf,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((cart) => {\r\n          if (cart.cart.items.length) {\r\n            update(cart, csrf);\r\n            intl();\r\n          } else {\r\n            $cart.innerHTML = \"<h2>No course</h2>\";\r\n          }\r\n        });\r\n    });\r\n    $cart.addEventListener(\"click\", (e) => {\r\n      let targ = e.target.closest(\"button.add\");\r\n      if (!targ) return;\r\n\r\n      let id = targ.dataset.id;\r\n      const csrf = targ.dataset.csrf;\r\n\r\n      fetch(\"/cart/addone/\" + id, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"X-XSRF-TOKEN\": csrf,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          update(res, csrf);\r\n          intl();\r\n        });\r\n    });\r\n  }\r\n\r\n  const password = \"69eHnmmp1CnxGqYh\";\r\n  const url = new URL(\r\n    \"mongodb+srv://Roman:<69eHnmmp1CnxGqYh>@cluster0.zjws7.mongodb.net/<dbname>?retryWrites=true&w=majority\"\r\n  );\r\n\r\n  M.Tabs.init(document.querySelector(\".tabs\"));\r\n\r\n  if (document.getElementById(\"nav-cart\")) {\r\n    cartBadget();\r\n  }\r\n\r\n  document.addEventListener(\"click\", (e) => {\r\n    try {\r\n      let targ = e.target.closest(\".account\");\r\n      if (!targ) {\r\n        if (document.querySelector(\".account-div\")) {\r\n          document\r\n            .querySelector(\".account-div\")\r\n            .classList.remove(\"account-div-open\");\r\n          document.querySelector(\".shadow-page\").style.display = \"none\";\r\n          document.querySelector(\".account\").classList.remove(\"zindex-102\");\r\n        }\r\n\r\n        return;\r\n      }\r\n      targ.classList.add(\"zindex-102\");\r\n      document.querySelector(\".account-div\").classList.add(\"account-div-open\");\r\n      document.querySelector(\".shadow-page\").style.display = \"block\";\r\n    } catch (e) {}\r\n  });\r\n\r\n  document.addEventListener(\"click\", (e) => {\r\n    let targ = e.target.closest(\".catalog-navbar-li\");\r\n    let elem = document.querySelector(\".catalog-navbar\");\r\n    let shadowPage = document.querySelector(\".shadow-page\");\r\n    if (!targ) {\r\n      if (elem.classList.contains(\"catalog-navbar-open\")) {\r\n        elem.classList.remove(\"catalog-navbar-open\");\r\n        document\r\n          .querySelector(\".catalog-navbar-li\")\r\n          .classList.remove(\"zindex-102\");\r\n        shadowPage.style.display = \"none\";\r\n      }\r\n      return;\r\n    }\r\n    elem.classList.add(\"catalog-navbar-open\");\r\n    targ.classList.add(\"zindex-102\");\r\n    shadowPage.style.display = \"block\";\r\n  });\r\n\r\n  if (document.querySelector(\".close-course-block\")) {\r\n    document\r\n      .querySelector(\".close-course-block\")\r\n      .addEventListener(\"click\", function (e) {\r\n        window.close();\r\n      });\r\n  }\r\n}\r\n","const carousel = async () => {\r\n  if (!document.querySelector(\".index-container-carts\")) return;\r\n\r\n  const coursesCount = async () => {\r\n    const res = await fetch(\"/course\");\r\n    return await res.json();\r\n  };\r\n  const corseCount = await coursesCount();\r\n  const block = document.querySelector(\".index-container-carts\");\r\n  const countBlock = document.querySelector(\".index-count-page\");\r\n  let blocHeight = block.scrollHeight;\r\n  let step = blocHeight / corseCount.length;\r\n  let index = 1;\r\n  const maxIdnex = corseCount.length;\r\n  countBlock.textContent = `${index}/${maxIdnex}`;\r\n\r\n  const elements = document\r\n    .querySelector(\".index-container-carts\")\r\n    .querySelectorAll(\".index-cart\");\r\n  elements.forEach((item) => item.classList.add(\"opacity0\"));\r\n  elements[0].classList.add(\"opacity1\");\r\n\r\n  let timer = setTimeout(function t() {\r\n    dowm();\r\n    timer = setTimeout(t, 3000);\r\n  }, 3000);\r\n\r\n  document\r\n    .querySelector(\"#carousel-pause > i\")\r\n    .addEventListener(\"click\", (e) => {\r\n      clearTimeout(timer);\r\n      document.querySelector(\"#carousel-pause\").style.display = \"none\";\r\n      document.querySelector(\"#carousel-play\").style.display = \"block\";\r\n    });\r\n\r\n  document\r\n    .querySelector(\"#carousel-play > i\")\r\n    .addEventListener(\"click\", (e) => {\r\n      timer = setTimeout(function t() {\r\n        dowm();\r\n        timer = setTimeout(t, 3000);\r\n      }, 3000);\r\n      document.querySelector(\"#carousel-play\").style.display = \"none\";\r\n      document.querySelector(\"#carousel-pause\").style.display = \"block\";\r\n    });\r\n\r\n  const resize = () => {\r\n    blocHeight = block.scrollHeight;\r\n    step = Math.floor(blocHeight / corseCount.length);\r\n    elements.forEach((item) => (item.style.height = step + \"px\"));\r\n    elements[index - 1].classList.add(\"opacity1\");\r\n\r\n    block.scrollTo(0, (index - 1) * step);\r\n    countBlock.textContent = `${index}/${maxIdnex}`;\r\n  };\r\n\r\n  window.addEventListener(\"resize\", resize);\r\n\r\n  const style = (index) => {\r\n    elements.forEach((item) => item.classList.remove(\"opacity1\"));\r\n    elements[index - 1].classList.add(\"opacity1\");\r\n  };\r\n\r\n  const up = () => {\r\n    if (index === 1) {\r\n      index = maxIdnex;\r\n      countBlock.textContent = `${index}/${maxIdnex}`;\r\n      style(index);\r\n      block.scrollTo(0, step * index);\r\n      return;\r\n    }\r\n\r\n    index--;\r\n    countBlock.textContent = `${index}/${maxIdnex}`;\r\n    style(index);\r\n    block.scrollBy(0, -step);\r\n  };\r\n  const dowm = () => {\r\n    if (index === maxIdnex) {\r\n      index = 1;\r\n      countBlock.textContent = `${index}/${maxIdnex}`;\r\n      style(index);\r\n      block.scrollTo(0, 0);\r\n      return;\r\n    }\r\n    index++;\r\n    countBlock.textContent = `${index}/${maxIdnex}`;\r\n    style(index);\r\n    block.scrollBy({ left: 0, top: step });\r\n  };\r\n\r\n  document.getElementById(\"carousel-btn-up\").addEventListener(\"click\", up);\r\n\r\n  document.getElementById(\"carousel-btn-down\").addEventListener(\"click\", dowm);\r\n};\r\n\r\nexport default carousel;\r\n","export default async ({ get, blockL, left, right, row }) => {\r\n  if (!document.querySelector(\".section-dev\")) return;\r\n  const res = await fetch(get);\r\n  const lengthCourse = await res.json();\r\n\r\n  const block = document.getElementById(blockL);\r\n  const cards = block.querySelectorAll(\".section-dev-block\");\r\n  const bloing = block.querySelectorAll(\".section-dev-img\");\r\n  let btnLeft = document.getElementById(left);\r\n  let btnRight = document.getElementById(right);\r\n\r\n  let size = Math.round(block.offsetWidth / row);\r\n\r\n  cards.forEach((item) => (item.style.width = size + \"px\"));\r\n  bloing.forEach((item) => (item.style.width = size + \"px\"));\r\n\r\n  let base = 0;\r\n  let step = cards[0].offsetWidth;\r\n  let end = size * lengthCourse - row * step;\r\n\r\n  const resize = () => {\r\n    size = Math.round(block.offsetWidth / row);\r\n    cards.forEach((item) => (item.style.width = size + \"px\"));\r\n    bloing.forEach((item) => (item.style.width = size + \"px\"));\r\n    base = 0;\r\n    step = cards[0].offsetWidth;\r\n    end = step * lengthCourse - row * step;\r\n    block.scrollTo(0, 0);\r\n  };\r\n  window.addEventListener(\"resize\", (e) => {\r\n    resize();\r\n    if (base == 0) {\r\n      btnLeft.style.display = \"none\";\r\n    }\r\n\r\n    if (size * lengthCourse == size * row) {\r\n      btnRight.style.display = \"none\";\r\n    } else {\r\n      btnRight.style.display = \"block\";\r\n    }\r\n  });\r\n\r\n  if (base == 0) {\r\n    btnLeft.style.display = \"none\";\r\n  }\r\n\r\n  if (size * lengthCourse == size * row) {\r\n    btnRight.style.display = \"none\";\r\n  }\r\n\r\n  btnLeft.addEventListener(\"click\", () => {\r\n    base -= step;\r\n    if (base <= 0) {\r\n      block.scrollTo(base, 0);\r\n      btnLeft.style.display = \"none\";\r\n    } else {\r\n      block.scrollTo(base, 0);\r\n      btnRight.style.display = \"block\";\r\n    }\r\n  });\r\n\r\n  btnRight.addEventListener(\"click\", () => {\r\n    base += step;\r\n\r\n    if (base >= end) {\r\n      block.scrollTo(base, 0);\r\n      btnRight.style.display = \"none\";\r\n    } else {\r\n      block.scrollTo(base, 0);\r\n      btnLeft.style.display = \"block\";\r\n    }\r\n  });\r\n};\r\n","import app from \"./app/app\";\r\nimport carousel from \"./carousel/carousel\";\r\nimport slider from \"./carousel/slider\";\r\n\r\nlet blockDev = {\r\n  get: \"/sectionDev\",\r\n  blockL: \"section-dev-id\",\r\n  left: \"dev-left-btn\",\r\n  right: \"dev-right-btn\",\r\n  row: 3,\r\n};\r\n\r\nlet blockBusiness = {\r\n  get: \"/sectionBus\",\r\n  blockL: \"section-Business\",\r\n  left: \"busi-left-btn\",\r\n  right: \"busi-right-btn\",\r\n  row: 3,\r\n};\r\nlet blockDesign = {\r\n  get: \"/sectionDesign\",\r\n  blockL: \"section-design\",\r\n  left: \"design-left-btn\",\r\n  right: \"design-right-btn\",\r\n  row: 3,\r\n};\r\nlet blockMusic = {\r\n  get: \"/sectionMusic\",\r\n  blockL: \"section-music\",\r\n  left: \"music-left-btn\",\r\n  right: \"music-right-btn\",\r\n  row: 3,\r\n};\r\n\r\nlet blockLatest = {\r\n  get: \"/latestAded\",\r\n  blockL: \"section-latest\",\r\n  left: \"latest-left-btn\",\r\n  right: \"latest-right-btn\",\r\n  row: 3,\r\n};\r\nif (document.getElementById(\"footer\")) {\r\n  if (document.getElementById(\"my-account\")) {\r\n    document.getElementById(\"footer\").classList.add(\"down\");\r\n  }\r\n  document.documentElement.clientHeight ===\r\n    document.documentElement.scrollHeight &&\r\n    document.getElementById(\"footer\").classList.add(\"down\");\r\n}\r\n\r\nif (document.getElementById(\"catalog-noauth\")) {\r\n  document.addEventListener(\"click\", (e) => {\r\n    let targ = e.target.closest(\"#catalog-noauth\");\r\n    if (!targ) {\r\n      document.getElementById(\"catalog-noauth-div\").style.display = \"none\";\r\n      return;\r\n    }\r\n    document.getElementById(\"catalog-noauth-div\").style.display = \"block\";\r\n  });\r\n\r\n  document\r\n    .getElementById(\"btn-navbar-mobile\")\r\n    .addEventListener(\"click\", function () {\r\n      document\r\n        .getElementById(\"navbar-mobile\")\r\n        .classList.toggle(\"navbar-mobile-open\");\r\n    });\r\n}\r\n\r\napp();\r\ncarousel();\r\nslider(blockDev);\r\nslider(blockBusiness);\r\nslider(blockDesign);\r\nslider(blockMusic);\r\nslider(blockLatest);\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/index.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACNA;AACA;AACA;AACA;;A","sourceRoot":""}